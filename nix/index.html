<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/style.css><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]}}</script><link rel=stylesheet href=/css/carousel.css><script src=/js/carousel.js></script><title>Blog de Iván</title></head><body class="bg-[url('/images/aquagalaxy.gif')] max-w-[100vw] overflow-x-hidden font-serif"><header><a href=/><figure id=header class="max-w-4xl h-20 bg-[url('/images/cyberscape.gif')] border-4 border-pink-400 mx-4 mt-16 lg:m-auto lg:mt-16"></figure></a></header><div class="flex flex-col lg:flex-row max-w-4xl mx-4 lg:m-auto relative"><nav class="border-4 bg-white border-pink-400 p-4 w-full lg:w-auto lg:max-w-xs max-h-full"><ul><li><a href=https://blog.shft.dev/>~/home</a></li><li><a href=/galery/>~/galery</a></li><li><a href=/markdown/>~/markdown</a></li><li><a href=/nix/>~/nix</a></li><li><a href=/tv/>~/tv</a></li></ul></nav><main class="w-full h-full bg-white border-4 border-gray-200 p-4 overflow-x-auto markdown"><p>Como programadores, creo que todos hemos tenido algun encontronazo con los gestores de paquetes, ya sea para instalar un proyecto de python o tener que arreglar algun conflicto de paquetes en Linux.
La realidad es que no hay ninguna solución perfecta para la gestión de paquetes de nuestros proyectos, pero Nix es una de las mejores opciones.</p><p>En este articulo explicare que es Nix, como lo podemos utilizar para nuestros proyectos y en especifico como lo he usado para este proyecto.</p><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Que es Nix</h2><div id=outline-text-headline-1 class=outline-text-2><p>En realidad Nix no es mas que un gestor de paquetes, con la peculiaridad de que se puede instalar en una gran variedad de sistemas (Distribuciones de Linux, MacOS, Windows con WSL)</p><p>La gran ventaja de Nix frente a otros gestores de paquetes es que funciona de una manera declarativa, utilizando expresiones escritas en el lenguaje Nix, al que me referiré como nixlang para poder diferenciarlos mejor. Esto nos deja mantener una configuración versionada y estable sin tener que preocuparnos de paquetes huérfanos.</p><p>Otra gran diferencia con otros gestores de paquetes es la idea de las generaciones, una manera de mantener varias versiones de nuestros paquetes instaladas para que si una actualización los rompe, podamos volver a una generación anterior, donde estos no estén rotos.</p><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Como instalarlo</h3><div id=outline-text-headline-2 class=outline-text-3><p>Para ver todas las opciones de instalación podemos ir a <a href=https://nixos.org/download/>nixos.org</a>, por ejemplo, para instalarlo en Linux podemos ejecutar el siguiente comando:</p><div class="src src-bash"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  sh &lt;<span style=color:#f92672>(</span>curl -L https://nixos.org/nix/install<span style=color:#f92672>)</span> --daemon</span></span></code></pre></div></div></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>Home manager</h3><div id=outline-text-headline-3 class=outline-text-3><p>Home manager es una herramienta que nos ayuda a generar archivos de configuración a través de expresiones nix. Home manager nos deja especificar la configuración de programas y la instalación de estos para una gran variedad de entornos *nix como MacOS y Linux.</p><p>El gran problema de home manager es que no tiene control sobre el sistema, solo puede instalar paquetes y crear archivos de configuración.</p></div></div></div></div><div id=outline-container-headline-4 class=outline-2><h2 id=headline-4>Configuración del sistema con nix</h2><div id=outline-text-headline-4 class=outline-text-2><p>Una de las funciones mas útiles para nuestro día a día de nix es su habilidad de instalar y configurar paquetes de forma declarativa, en esta sección explicare como podemos administrar nuestro sistema con Nix, Home Manager y NixOS.</p><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>Administración de paquetes</h3><div id=outline-text-headline-5 class=outline-text-3><p>Para administrar paquetes de una forma declarativa y portable usaremos Home Manager.</p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Home managet test&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    outputs <span style=color:#f92672>=</span> inputs <span style=color:#f92672>@</span> {
</span></span><span style=display:flex><span>      self<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        home-manager<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    }: <span style=color:#66d9ef>rec</span> {
</span></span><span style=display:flex><span>      homeConfigurations <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;tu nombre de usuario&#34;</span> <span style=color:#f92672>=</span> home-manager<span style=color:#f92672>.</span>lib<span style=color:#f92672>.</span>homeManagerConfiguration {
</span></span><span style=display:flex><span>          
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    inputs <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      nixpkgs<span style=color:#f92672>.</span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nixos/nixpkgs/nixos-unstable&#34;</span>;
</span></span><span style=display:flex><span>      home-manager <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:0xc000022070/zen-browser-flake&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div></div></div><div id=outline-container-headline-6 class=outline-3><h3 id=headline-6>NixOS</h3><div id=outline-text-headline-6 class=outline-text-3><p>NixOS resuelve los problemas de Home manager creando una distribución de linux que se controla totalmente desde nix, donde montas discos, que drivers usas y que procesos enciendes todo controlado desde nix.</p></div></div></div></div><div id=outline-container-headline-7 class=outline-2><h2 id=headline-7>Ejemplo de expresión nix</h2><div id=outline-text-headline-7 class=outline-text-2><p>Aquí propongo un ejemplo de expresión de nix utilizada para la configuración de nixos.</p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  <span style=color:#75715e># Edit this configuration file to define what should be installed on</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># your system. Help is available in the configuration.nix(5) man page, on</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://search.nixos.org/options and in the NixOS manual (`nixos-help`).</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  { config<span style=color:#f92672>,</span> lib<span style=color:#f92672>,</span> pkgs<span style=color:#f92672>,</span> <span style=color:#f92672>...</span> }:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    imports <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>      [ <span style=color:#75715e># Include the results of the hardware scan.</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>./hardware-configuration.nix</span>
</span></span><span style=display:flex><span>      ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Use the systemd-boot EFI boot loader.</span>
</span></span><span style=display:flex><span>    boot<span style=color:#f92672>.</span>loader<span style=color:#f92672>.</span>systemd-boot<span style=color:#f92672>.</span>enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    boot<span style=color:#f92672>.</span>loader<span style=color:#f92672>.</span>efi<span style=color:#f92672>.</span>canTouchEfiVariables <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.hostName = &#34;nixos&#34;; # Define your hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Pick only one of the below networking options.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.wireless.enable = true;  # Enables wireless support via wpa_supplicant.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.networkmanager.enable = true;  # Easiest to use and most distros use this by default.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Set your time zone.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># time.timeZone = &#34;Europe/Amsterdam&#34;;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Configure network proxy if necessary</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.proxy.default = &#34;http://user:password@proxy:port/&#34;;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.proxy.noProxy = &#34;127.0.0.1,localhost,internal.domain&#34;;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Select internationalisation properties.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># i18n.defaultLocale = &#34;en_US.UTF-8&#34;;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># console = {</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   font = &#34;Lat2-Terminus16&#34;;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   keyMap = &#34;us&#34;;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   useXkbConfig = true; # use xkb.options in tty.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># };</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable the X11 windowing system.</span>
</span></span><span style=display:flex><span>    services<span style=color:#f92672>.</span>xserver<span style=color:#f92672>.</span>enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable the GNOME Desktop Environment.</span>
</span></span><span style=display:flex><span>    services<span style=color:#f92672>.</span>xserver<span style=color:#f92672>.</span>displayManager<span style=color:#f92672>.</span>gdm<span style=color:#f92672>.</span>enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    services<span style=color:#f92672>.</span>xserver<span style=color:#f92672>.</span>desktopManager<span style=color:#f92672>.</span>gnome<span style=color:#f92672>.</span>enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Configure keymap in X11</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># services.xserver.xkb.layout = &#34;us&#34;;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># services.xserver.xkb.options = &#34;eurosign:e,caps:escape&#34;;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable CUPS to print documents.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># services.printing.enable = true;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable sound.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># sound.enable = true;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># hardware.pulseaudio.enable = true;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable touchpad support (enabled default in most desktopManager).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># services.xserver.libinput.enable = true;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Define a user account. Don&#39;t forget to set a password with ‘passwd’.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># users.users.alice = {</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   isNormalUser = true;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   extraGroups = [ &#34;wheel&#34; ]; # Enable ‘sudo’ for the user.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   packages = with pkgs; [</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#     firefox</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#     tree</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   ];</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># };</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># List packages installed in system profile. To search, run:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># $ nix search wget</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># environment.systemPackages = with pkgs; [</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   vim # Do not forget to add an editor to edit configuration.nix! The Nano editor is also installed by default.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   wget</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Some programs need SUID wrappers, can be configured further or are</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># started in user sessions.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># programs.mtr.enable = true;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># programs.gnupg.agent = {</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   enable = true;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   enableSSHSupport = true;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># };</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># List services that you want to enable:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable the OpenSSH daemon.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># services.openssh.enable = true;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Open ports in the firewall.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.firewall.allowedTCPPorts = [ ... ];</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.firewall.allowedUDPPorts = [ ... ];</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Or disable the firewall altogether.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># networking.firewall.enable = false;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Copy the NixOS configuration file and link it from the resulting system</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># (/run/current-system/configuration.nix). This is useful in case you</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># accidentally delete configuration.nix.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># system.copySystemConfiguration = true;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># This option defines the first version of NixOS you have installed on this particular machine,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># and is used to maintain compatibility with application data (e.g. databases) created on older NixOS versions.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Most users should NEVER change this value after the initial install, for any reason,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># even if you&#39;ve upgraded your system to a new NixOS release.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># This value does NOT affect the Nixpkgs version your packages and OS are pulled from,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># so changing it will NOT upgrade your system.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># This value being lower than the current NixOS release does NOT mean your system is</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># out of date, out of support, or vulnerable.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Do NOT change this value unless you have manually inspected all the changes it would make to your configuration,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># and migrated your data accordingly.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># For more information, see `man configuration.nix` or https://nixos.org/manual/nixos/stable/options#opt-system.stateVersion .</span>
</span></span><span style=display:flex><span>    system<span style=color:#f92672>.</span>stateVersion <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;23.11&#34;</span>; <span style=color:#75715e># Did you read the comment?</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div></div></div><div id=outline-container-headline-8 class=outline-2><h2 id=headline-8>Flakes</h2><div id=outline-text-headline-8 class=outline-text-2><p>Ejemplo del que uso para configurar mi sistema.</p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;deltav, my new system config&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    outputs <span style=color:#f92672>=</span> inputs <span style=color:#f92672>@</span> {
</span></span><span style=display:flex><span>      self<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        home-manager<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        nixpkgs<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        sops-nix<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        nixos-hardware<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    }: <span style=color:#66d9ef>rec</span> {
</span></span><span style=display:flex><span>      nixosConfigurations <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;aceso&#34;</span> <span style=color:#f92672>=</span> nixpkgs<span style=color:#f92672>.</span>lib<span style=color:#f92672>.</span>nixosSystem {
</span></span><span style=display:flex><span>          system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64-linux&#34;</span>;
</span></span><span style=display:flex><span>          specialArgs <span style=color:#f92672>=</span> {<span style=color:#66d9ef>inherit</span> inputs;};
</span></span><span style=display:flex><span>          modules <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            home-manager<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>home-manager
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>              networking<span style=color:#f92672>.</span>hostName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aceso&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#e6db74>hosts/aceso/aceso.nix</span>
</span></span><span style=display:flex><span>            sops-nix<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>sops
</span></span><span style=display:flex><span>          ];
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;castor&#34;</span> <span style=color:#f92672>=</span> nixpkgs<span style=color:#f92672>.</span>lib<span style=color:#f92672>.</span>nixosSystem {
</span></span><span style=display:flex><span>          system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64-linux&#34;</span>;
</span></span><span style=display:flex><span>          specialArgs <span style=color:#f92672>=</span> {<span style=color:#66d9ef>inherit</span> inputs;};
</span></span><span style=display:flex><span>          modules <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            home-manager<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>home-manager
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>              networking<span style=color:#f92672>.</span>hostName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;castor&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#e6db74>hosts/castor/castor.nix</span>
</span></span><span style=display:flex><span>            sops-nix<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>sops
</span></span><span style=display:flex><span>          ];
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;philoctetes&#34;</span> <span style=color:#f92672>=</span> nixpkgs<span style=color:#f92672>.</span>lib<span style=color:#f92672>.</span>nixosSystem {
</span></span><span style=display:flex><span>          system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aarch64-linux&#34;</span>;
</span></span><span style=display:flex><span>          specialArgs <span style=color:#f92672>=</span> {<span style=color:#66d9ef>inherit</span> inputs;};
</span></span><span style=display:flex><span>          modules <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>nixpkgs<span style=color:#e6db74>}</span><span style=color:#e6db74>/nixos/modules/installer/sd-card/sd-image-raspberrypi.nix&#34;</span>
</span></span><span style=display:flex><span>            home-manager<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>home-manager
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>              networking<span style=color:#f92672>.</span>hostName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;philoctetes&#34;</span>;
</span></span><span style=display:flex><span>              nixpkgs<span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>allowUnsupportedSystem <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>              nixpkgs<span style=color:#f92672>.</span>hostPlatform<span style=color:#f92672>.</span>system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aarch64-linux&#34;</span>;
</span></span><span style=display:flex><span>              nixpkgs<span style=color:#f92672>.</span>buildPlatform<span style=color:#f92672>.</span>system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64-linux&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#e6db74>hosts/philoctetes/philoctetes.nix</span>
</span></span><span style=display:flex><span>            sops-nix<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>sops
</span></span><span style=display:flex><span>            nixos-hardware<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>raspberry-pi-4
</span></span><span style=display:flex><span>          ];
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      images<span style=color:#f92672>.</span><span style=color:#e6db74>&#34;philoctetes&#34;</span> <span style=color:#f92672>=</span> nixosConfigurations<span style=color:#f92672>.</span><span style=color:#e6db74>&#34;philoctetes&#34;</span><span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>system<span style=color:#f92672>.</span>build<span style=color:#f92672>.</span>sdImage;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    inputs <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      nixpkgs<span style=color:#f92672>.</span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nixos/nixpkgs/nixos-unstable&#34;</span>;
</span></span><span style=display:flex><span>      zen-browser <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:0xc000022070/zen-browser-flake&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      home-manager <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nix-community/home-manager&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      apple-fonts<span style=color:#f92672>.</span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:Lyndeno/apple-fonts.nix&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      spicetify-nix <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:Gerg-L/spicetify-nix&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># hyprland.url = &#34;github:hyprwm/Hyprland&#34;;</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># hyprland-plugins = {</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>#   url = &#34;github:hyprwm/hyprland-plugins&#34;;</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>#   inputs.hyprland.follows = &#34;hyprland&#34;;</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># };</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      sops-nix<span style=color:#f92672>.</span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:Mic92/sops-nix&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      firefox-gnome-theme <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:rafaelmardojai/firefox-gnome-theme&#34;</span>;
</span></span><span style=display:flex><span>        flake <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      emacs-libvterm <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:akermu/emacs-libvterm&#34;</span>;
</span></span><span style=display:flex><span>        flake <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      emacs-overlay <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nix-community/emacs-overlay&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      suyu <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:Noodlez1232/suyu-flake&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      nixos-hardware <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:NixOS/nixos-hardware/master&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div></div></div><p><a href=/>>> Home</a></p></main></div><footer class="max-w-4xl bg-white border-4 border-pink-400 border-double text-center mx-4 mb-16 lg:m-auto lg:mb-16">Blog de Iván</footer></body></html>