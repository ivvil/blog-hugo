<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/style.css><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]}}</script><link rel=stylesheet href=/css/carousel.css><script src=/js/carousel.js></script><title>Blog de Iván</title></head><body class="bg-[url('/images/aquagalaxy.gif')] max-w-[100vw] overflow-x-hidden font-serif"><header><style>.logo-bg{background-image:url(/images/shft.gif);background-color:#fff}</style><a href=/><figure id=header class="max-w-4xl h-20 border-4 border-pink-400 mx-4 mt-16 lg:m-auto lg:mt-16 logo-bg"></figure></a></header><div class="flex flex-col lg:flex-row max-w-4xl mx-4 lg:m-auto relative"><nav class="border-4 bg-white border-pink-400 p-4 w-full lg:w-auto lg:max-w-xs max-h-full"><ul><li><a href=https://blog.shft.dev/>~/home</a></li><li><a href=/galery/>~/galery</a></li><li><a href=/markdown/>~/markdown</a></li><li><a href=/nix/>~/nix</a></li><li><a href=/tv/>~/tv</a></li></ul></nav><main class="w-full h-full bg-white border-4 border-gray-200 p-4 overflow-x-auto markdown"><p>Como programadores, creo que todos hemos tenido algun encontronazo con los gestores de paquetes, ya sea para instalar un proyecto de python o tener que arreglar algún conflicto de paquetes en Linux.
La realidad es que no hay ninguna solución perfecta para la gestión de paquetes de nuestros proyectos, pero Nix es una de las mejores opciones.</p><p>En este articulo explicare que es Nix, como lo podemos utilizar para nuestros proyectos y en especifico como lo he usado para este proyecto.</p><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Que es Nix</h2><div id=outline-text-headline-1 class=outline-text-2><p>En realidad Nix no es mas que un gestor de paquetes, con la peculiaridad de que se puede instalar en una gran variedad de sistemas (Distribuciones de Linux, MacOS, Windows con WSL)</p><p>La gran diferencia de Nix frente a otros gestores de paquetes es que funciona de una manera declarativa, utilizando expresiones escritas en el lenguaje Nix (al que me referiré como nixlang para poder diferenciarlos mejor) esto nos deja mantener una configuración versionada y estable sin tener que preocuparnos de paquetes huérfanos, dependencias y otros de los grandes problemas de los gestores de paquetes convencionales.</p><p>Otra diferencia con otros gestores de paquetes son las generaciones, una manera de mantener varias versiones de nuestros paquetes instaladas para que si una actualización los rompe, podamos volver a una generación anterior, donde las diferentes versiones de estas no tengan conflictos.</p><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Como instalarlo</h3><div id=outline-text-headline-2 class=outline-text-3><p>Para ver todas las opciones de instalación podemos ir a <a href=https://nixos.org/download/>nixos.org</a>, por ejemplo, para instalarlo en Linux podemos ejecutar el siguiente comando:</p><div class="src src-bash"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  sh &lt;<span style=color:#f92672>(</span>curl -L https://nixos.org/nix/install<span style=color:#f92672>)</span> --daemon</span></span></code></pre></div></div></div></div></div></div><div id=outline-container-headline-3 class=outline-2><h2 id=headline-3>Configuración del sistema con nix</h2><div id=outline-text-headline-3 class=outline-text-2><p>Una de las funciones mas útiles para nuestro día a día de nix es su habilidad de instalar y configurar paquetes de forma declarativa, en esta sección explicare como podemos administrar nuestro sistema con Nix, Home Manager y NixOS.</p><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>Administración de paquetes</h3><div id=outline-text-headline-4 class=outline-text-3><p>Para administrar paquetes de una forma declarativa y portable usaremos Home Manager.</p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Home managet test&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    inputs <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      nixpkgs<span style=color:#f92672>.</span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nixos/nixpkgs/nixos-unstable&#34;</span>;
</span></span><span style=display:flex><span>      home-manager <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nix-community/home-manager&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    outputs <span style=color:#f92672>=</span> inputs <span style=color:#f92672>@</span> {
</span></span><span style=display:flex><span>      self<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        home-manager<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        nixpkgs<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    }: <span style=color:#66d9ef>rec</span> {
</span></span><span style=display:flex><span>      homeConfigurations <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;tu nombre de usuario&#34;</span> <span style=color:#f92672>=</span> home-manager<span style=color:#f92672>.</span>lib<span style=color:#f92672>.</span>homeManagerConfiguration {
</span></span><span style=display:flex><span>          pkgs <span style=color:#f92672>=</span> nixpkgs<span style=color:#f92672>.</span>legacyPackages<span style=color:#f92672>.</span>x86_64-linux;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          home <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>            username <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;tu nombre de usuario&#34;</span>;
</span></span><span style=display:flex><span>            stateVersion <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;22.11&#34;</span>;
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            packages <span style=color:#f92672>=</span> <span style=color:#66d9ef>with</span> pkgs; [
</span></span><span style=display:flex><span>              <span style=color:#75715e># Los paquetes que quieras instalar</span>
</span></span><span style=display:flex><span>              vlc
</span></span><span style=display:flex><span>              discord
</span></span><span style=display:flex><span>            ];
</span></span><span style=display:flex><span>          };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          programs<span style=color:#f92672>.</span>homeManager<span style=color:#f92672>.</span>enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div><p>Para activar nuestra configuración, ejecutaremos:</p><div class="src src-sh"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>  home-manager switch --flake .</span></span></code></pre></div></div><p>Aunque el flake que hemos creado parezca archivo bastante complejo, pero explicándolo paso a paso entenderemos las partes mas importantes.</p><div id=outline-container-headline-5 class=outline-4><h4 id=headline-5>Inputs</h4><div id=outline-text-headline-5 class=outline-text-4><p>Las <code>inputs</code> o entradas son los archivos internos que nuestro flake utilizara, en este caso <code>nixpkgs</code> que es la colección de oficial paquetes para nix y <code>home-manager</code> es el modulo de Nix que nos deja configurar nuestro sistema de una forma declarativa en varios sistemas *nix.</p></div></div><div id=outline-container-headline-6 class=outline-4><h4 id=headline-6>Outputs</h4><div id=outline-text-headline-6 class=outline-text-4><p>Los <code>outputs</code> o salidas son, en este caso las configuraciones de Home Manager que exporta; estas se exportan como <code>homeConfigurations</code>.</p><p><code>home-manager.lib.homeManagerConfiguration</code> es la función que genera una configuración de Home Manager con los valores que especificamos. Aquí especificamos los paquetes para nuestra plataforma y los paquetes que queremos instalar.</p></div></div></div></div><div id=outline-container-headline-7 class=outline-3><h3 id=headline-7>Configuración de paquetes</h3><div id=outline-text-headline-7 class=outline-text-3><p>Ahora, con una ligera modificación a nuestra configuración, podemos configurar los paquetes instalados.</p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>      homeConfigurations <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;tu nombre de usuario&#34;</span> <span style=color:#f92672>=</span> home-manager<span style=color:#f92672>.</span>lib<span style=color:#f92672>.</span>homeManagerConfiguration {
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span>
</span></span><span style=display:flex><span>          email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tu correo electronico&#34;</span>;
</span></span><span style=display:flex><span>          name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tu nombre&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>in</span> {
</span></span><span style=display:flex><span>          programs<span style=color:#f92672>.</span>git <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>            enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>            lfs<span style=color:#f92672>.</span>enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>            extraConfig <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>              color<span style=color:#f92672>.</span>ui <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>              core<span style=color:#f92672>.</span>editor <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;emacs&#34;</span>;
</span></span><span style=display:flex><span>              credential<span style=color:#f92672>.</span>helper <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;store&#34;</span>;
</span></span><span style=display:flex><span>              github<span style=color:#f92672>.</span>user <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>              push<span style=color:#f92672>.</span>autoSetupRemote <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>            };
</span></span><span style=display:flex><span>            userEmail <span style=color:#f92672>=</span> email;
</span></span><span style=display:flex><span>            userName <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>          };
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div><p>En esta configuración configuramos e instalamos git; al hacer <code>programs.git.enable</code> verdadero, automáticamente git se añadirá a los paquetes a instalar.</p><p>Utilizando el <code>let {} in {}</code> podemos especificar una variable local para poder cambiar nuestro correo electronico y contraseña de una manera fácil.
Aquí también habilitamos <code>git-lfs</code> y especificamos algunas configuraciones extras que automáticamente se traducen de la sintaxis de nix a la del archivo de configuración sin chequearas. En este caso forzamos a que la salida de terminal tenga colores, que el editore que usa, el credential helper, nuestro usuario de git y que se configure automaticamente el remoto para pushear.</p></div></div><div id=outline-container-headline-8 class=outline-3><h3 id=headline-8>Configuración del sistema</h3><div id=outline-text-headline-8 class=outline-text-3><p>Con NixOS podremos configurar nuestro sistema entero de esta manera, ya sea el cargador de arranque, los drivers de video o lo que quieras, pero primero tendremos que hacer unos cambios a nuestro flake para exportar una configuración de NixOS.</p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;NixOS config test&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    outputs <span style=color:#f92672>=</span> inputs <span style=color:#f92672>@</span> {
</span></span><span style=display:flex><span>      self<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        home-manager<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        nixpkgs<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    }: <span style=color:#66d9ef>rec</span> {
</span></span><span style=display:flex><span>      nixosConfigurations <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;nombre de tu configuración&#34;</span> <span style=color:#f92672>=</span> nixpkgs<span style=color:#f92672>.</span>lib<span style=color:#f92672>.</span>nixosSystem {
</span></span><span style=display:flex><span>          system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64-linux&#34;</span>;
</span></span><span style=display:flex><span>          specialArgs <span style=color:#f92672>=</span> {<span style=color:#66d9ef>inherit</span> inputs;};
</span></span><span style=display:flex><span>          modules <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            home-manager<span style=color:#f92672>.</span>nixosModules<span style=color:#f92672>.</span>home-manager
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>              networking<span style=color:#f92672>.</span>hostName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hostname&#34;</span>;
</span></span><span style=display:flex><span>              system<span style=color:#f92672>.</span>stateVersion <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;24.05&#34;</span>;
</span></span><span style=display:flex><span>              ollama <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>                enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                acceleratiom <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;rocm&#34;</span>;
</span></span><span style=display:flex><span>              };
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#e6db74>./ollama.nix</span>
</span></span><span style=display:flex><span>          ];
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    inputs <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      nixpkgs<span style=color:#f92672>.</span>url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nixos/nixpkgs/nixos-unstable&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      home-manager <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;github:nix-community/home-manager&#34;</span>;
</span></span><span style=display:flex><span>        inputs<span style=color:#f92672>.</span>nixpkgs<span style=color:#f92672>.</span>follows <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;nixpkgs&#34;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div><p>En nuestro flake actualizado, cambiamos <code>home-manager.lib.homeManagerConfiguration</code> por <code>nixpkgs.lib.nixosSystem</code>, que es la función que genera un sistema de NixOS basada en la configuración que le pasamos.</p><div id=outline-container-headline-9 class=outline-4><h4 id=headline-9>Nuestro primer modulo</h4><div id=outline-text-headline-9 class=outline-text-4><p>Para organizar mejor nuestra configuración, podemos usar módulos, que nos dejan elegir que parte de nuestra configuración queremos utilizar y hacer nuestra configuración configurable. Con un ejemplo, lo entenderemos mejor.</p><p>En este ejemplo configuraremos ollama, que es un servicio para correr y descargar LLMs en local.</p><p>Para utilizarlo lo guardaremos en el mismo directorio que el flake y lo llamaremos <code>ollama.nix</code></p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    lib<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>    config<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>  }:
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>with</span> lib; <span style=color:#66d9ef>let</span>
</span></span><span style=display:flex><span>    cfg <span style=color:#f92672>=</span> config<span style=color:#f92672>.</span>ollama;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>in</span> {
</span></span><span style=display:flex><span>    options<span style=color:#f92672>.</span>ollama <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      enable <span style=color:#f92672>=</span> mkEnableOption <span style=color:#e6db74>&#34;ollama&#34;</span>;
</span></span><span style=display:flex><span>      models <span style=color:#f92672>=</span> mkOption {
</span></span><span style=display:flex><span>        type <span style=color:#f92672>=</span> types<span style=color:#f92672>.</span>listOf types<span style=color:#f92672>.</span>str;
</span></span><span style=display:flex><span>        default <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;mistral-small&#34;</span>];
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>      acceleration <span style=color:#f92672>=</span> mkOption {
</span></span><span style=display:flex><span>        type <span style=color:#f92672>=</span> types<span style=color:#f92672>.</span>nullOr (
</span></span><span style=display:flex><span>          types<span style=color:#f92672>.</span>enum [
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;rocm&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;cuda&#34;</span>
</span></span><span style=display:flex><span>          ]
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>        default <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>      ui <span style=color:#f92672>=</span> mkEnableOption <span style=color:#e6db74>&#34;Enable web ui&#34;</span>;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    config <span style=color:#f92672>=</span> mkIf cfg<span style=color:#f92672>.</span>enable {
</span></span><span style=display:flex><span>      services <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        ollama <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>          enable <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>          loadModels <span style=color:#f92672>=</span> cfg<span style=color:#f92672>.</span>models;
</span></span><span style=display:flex><span>          acceleration <span style=color:#f92672>=</span> cfg<span style=color:#f92672>.</span>acceleration;
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>        nextjs-ollama-llm-ui<span style=color:#f92672>.</span>enable <span style=color:#f92672>=</span> cfg<span style=color:#f92672>.</span>ui;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div><p>Este modulo tiene una sintaxis bastante diferente a los flakes que hemos visto antes, vamos a repasar su sintaxis:</p><div id=outline-container-headline-10 class=outline-5><h5 id=headline-10>Imports</h5><div id=outline-text-headline-10 class=outline-text-5><p>Vemos que nuestro modulo empieza con un bloque que no habíamos visto antes, haciendo que nuestro flake se vea así:</p><div class="src src-nix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    imports
</span></span><span style=display:flex><span>  }: {
</span></span><span style=display:flex><span>    code
</span></span><span style=display:flex><span>  }</span></span></code></pre></div></div><p>En nuestro bloque de imports, importamos <code>lib</code>, <code>config</code> y el resto de imports por defecto (<code>...</code>) para poder usarlos en nuestro modulo. <code>lib</code> importa muchas funciones y variables útiles para nuestra configuración, y <code>config</code> que nos deja exportar nuestras opciones de configuración.</p></div></div><div id=outline-container-headline-11 class=outline-5><h5 id=headline-11><code>options</code></h5><div id=outline-text-headline-11 class=outline-text-5><p>En este bloque declaramos que <code>ollama</code> sera la opción de configuración que definiremos, dentro tenemos 4 variables:</p><ul><li><code>enable</code></li></ul><p>Que es un <code>EnableOption</code>, un booleano para activar el modulo de ollama y por defecto falso. También tiene el comentario de uso <code>"ollama"</code>.</p><ul><li><code>models</code></li></ul><p>Declara los nombres de los modelos que automáticamente descargará, por lo que su tipo es una lista (<code>listOf</code>) de strings (<code>str</code>). Por defecto tendrá el valor <code>["mistral-small"]</code>.</p><ul><li><code>acceleration</code></li></ul><p>Si utilizar la aceleración de hardware, en este caso el tipo de datos es mas complejo por que queremos representar mas opciones; puede ser o <code>null</code> que deja a Nix elegir la aceleración, o puedes forzarlo usando uno de los valores del enum: <code>false</code> para apagar la aceleración, <code>rocm</code> para usar la de AMD y <code>cuda</code> para usar la de Nvidia.</p><ul><li><code>ui</code></li></ul><p>Enciende la interfaz web para usar ollama desde el navegador.</p></div></div><div id=outline-container-headline-12 class=outline-5><h5 id=headline-12><code>config</code></h5><div id=outline-text-headline-12 class=outline-text-5><p>En esta parte utilizaremos los valores de las variables declaradas en <code>options</code> para crear nuestra configuración.</p><p>Primero, hacemos un <code>if</code> con <code>mkIf</code> para que <code>cfg.enable</code> encienda nuestra configuración. En todas las demás opciones simplemente le pasamos el valor que configuramos.</p></div></div></div></div></div></div></div></div><p><a href=/>>> Home</a></p></main></div><footer class="max-w-4xl bg-white border-4 border-pink-400 border-double text-center mx-4 mb-16 lg:m-auto lg:mb-16">Blog de Iván</footer></body></html>